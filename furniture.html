<!doctype html>
<html lang="ja">

<head>
  <meta charset="utf-8" />
  <title>家具生成</title><a href="index.html">← 戻る</a>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./styleKagu.css">

  <script type="importmap">
  {
    "imports": {
      "three": "https://cdn.jsdelivr.net/npm/three@0.159/build/three.module.js",
      "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.159/examples/jsm/"
    }
  }
  </script>
</head>

<body>
  <header>
    <h1>家具生成</h1>
    <div class="right">
      <button id="btnReset" type="button">リセット</button>
      <button id="btnExport" type="button">設定を書き出し</button>

      <label class="import">
        設定を読み込み
        <input id="importJson" type="file" accept="application/json" hidden>
      </label>
    </div>
  </header>

  <main>
    <!-- 左：家具一覧＆パーツ一覧 -->
    <aside>
      <div class="block">
        <h2>家具一覧</h2>
        <div id="furnList" class="furn-grid">
          <!-- JS でボタンが入る（机 / ソファ） -->
        </div>
        <p class="hint">左の家具を選択して、中央ビューで形状を確認します。</p>
      </div>

      <div class="block">
        <h2>パーツ一覧</h2>
        <div id="parts" class="list">
          <!-- JS でメッシュ一覧 -->
        </div>
        <p class="hint">各パーツの表示 / 非表示・選択ができます。</p>
      </div>
    </aside>

    <!-- 中央ビュー -->
    <section id="viewport">
      <canvas id="canvas"></canvas>
    </section>

    <!-- 右パネル -->
    <aside>
      <div class="block">
        <h2>選択中パーツ</h2>
        <div id="current">—</div>
        <div class="row mid">
          <button id="btnIsolate" type="button">選択を強調表示</button>
          <button id="btnShowAll" type="button">全表示</button>
        </div>
      </div>

      <div class="block">
        <h2>外寸（m）</h2>
        <div class="row">
          <label>横幅 (X)</label>
          <input class="sizeInput" id="sizeX" type="number" min="0" step="0.01" value="1.20">
        </div>
        <div class="row">
          <label>高さ (Y)</label>
          <input class="sizeInput" id="sizeY" type="number" min="0" step="0.01" value="0.75">
        </div>
        <div class="row">
          <label>奥行 (Z)</label>
          <input class="sizeInput" id="sizeZ" type="number" min="0" step="0.01" value="0.60">
        </div>
        <div class="row">
          <button id="btnApplySize" type="button">この寸法に合わせる</button>
        </div>
      </div>

      <!-- マテリアル：色のみ -->
      <div class="block">
        <h2>マテリアル</h2>
        <div class="row">
          <label>色</label>
          <input id="uiColor" type="color" value="#8a5a2b">
          <button id="btnApplyColor" type="button">適用</button>
        </div>
      </div>

      <!-- ライブラリ保存 / 呼び出し -->
      <div class="block">
        <h2>ライブラリ保存 / 呼び出し</h2>
        <div class="row">
          <input id="presetName" type="text" placeholder="例：ソファ1">
          <button id="btnSavePreset" type="button">保存してライブラリへ</button>
        </div>
        <p class="hint">現在の家具・外寸・色を保存します。</p>
        <div id="presetList" class="list">
          <!-- JSで一覧 -->
        </div>
      </div>
    </aside>
  </main>

  <script type="module" src="./scriptKagu.js"></script>
</body>

</html>
